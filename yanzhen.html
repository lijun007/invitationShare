<!DOCTYPE html>
<html >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>发送验证码倒计时功能</title>
    <script src="js/jquery-3.1.0.js"></script>
</head>
<body>
<!--代码部分begin-->
<style>
    *{margin:0;padding:0}
    .form span{display: none;}

</style>
<form class="form">

    <label for="phone">手机号：<input type="text" id="phone" class="infos" placeholder="请输入手机号码" /></label>
    <input type="button" class="getNum" value="获取验证码" onclick="sends.send()">
    <span class="error1">请输入正确的手机号码</span>
    <br>
    <label for="num">验证码：<input type="text" id="num" class="infos" placeholder="请输入验证码" /></label>

    <span>验证码错误</span>
    <br>
    <label for="submit"><input type="submit" id="submit" class="infos" value="领取金币" /></label>

</form>


<script>
        var sends = {
            checked:1,
            send:function(){
                var numbers = /^1\d{10}$/;
                var val = $('#phone').val().replace(/\s+/g,""); //获取输入手机号码
                if(!numbers.test(val)||val.length===0){
                    $('.error1').show()
                }
                var timer;
                if(numbers.test(val)){
                    var time=30;
                    timer=setInterval(function(){
                        time--;
                        $('.getNum').val(time+"S后再次发送");
                        if(time===0){
                            clearInterval(timer)
                            $('.getNum').val("获取验证码");
                        }
                    },1000);
                }
/*
                if($('.div-phone button').attr('class') == 'send1'){
                    if(!numbers.test(val) || val.length ==0){
                        $('.div-phone').append('<span class="error">请输入正确的手机号码</span>');
                        return false;
                    }
                }
                if(numbers.test(val)){
                    $('.div-phone .send1').attr('disabled','disabled')
                    var time = 30;
                    $('.div-phone span').remove();
                    function timeCountDown(){
                        if(time==0){
                            clearInterval(timer);
                            $('.div-phone .send1').attr('disabled','')
                            $('.div-phone button').addClass('send1').removeClass('send0').html("发送验证码");
                            sends.checked = 1;
                            return true;
                        }
                        $('.div-phone button').html(time+"S后再次发送");
                        time--;
                        return false;
                        sends.checked = 0;
                    }
                    $('.div-phone button').addClass('send0').removeClass('send1');
                    timeCountDown();
                    var timer = setInterval(timeCountDown,1000);
                }
*/
            }
        }
</script>
</body>
</html>